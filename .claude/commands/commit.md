---
description: Create git commits with structured workflow
---

# Commit

Create git commits with a structured review workflow.

## Process

When this command is invoked:

### Step 1: Review Current State

Run in parallel:
- `git status` - See all changes
- `git diff --staged` - See what's staged
- `git diff` - See unstaged changes
- `git log --oneline -5` - See recent commit style

### Step 2: Analyze Changes

Present a summary:
```
## Changes to Commit

### Staged:
- [file1.js] - [brief description of change]
- [file2.js] - [brief description of change]

### Unstaged:
- [file3.js] - [brief description of change]

### Not Tracked:
- [new-file.js] - [what this file is]
```

### Step 3: Plan Commits

Suggest logical commit groupings:

```
## Suggested Commits

1. **feat: add user authentication endpoint**
   - src/routes/auth.js
   - src/services/auth-service.js

2. **test: add auth endpoint tests**
   - tests/auth.test.js

3. **docs: update API documentation**
   - docs/api.md

Proceed with these commits? (y/n/modify)
```

### Step 4: Execute Commits

For each commit:
1. Stage the relevant files
2. Create commit with descriptive message
3. Verify commit succeeded

### Commit Message Format

Follow conventional commits:
```
type(scope): subject

[optional body]

[optional footer]
```

Types:
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation
- `style`: Formatting
- `refactor`: Code restructuring
- `test`: Adding tests
- `chore`: Maintenance

## Important Guidelines

1. **Review before committing** - always show changes first
2. **Logical grouping** - related changes in same commit
3. **Clear messages** - explain the "why" not just "what"
4. **No AI Attribution** - do not add "Generated by Claude" or "Co-authored-by" lines
5. **Don't commit secrets** - check for .env, credentials, API keys
6. **Verify success** - run `git status` after commits

## Safety Checks

Before committing, verify:
- [ ] No sensitive data (secrets, keys, passwords)
- [ ] No debug code or console.logs
- [ ] No commented-out code blocks
- [ ] Related files grouped logically
